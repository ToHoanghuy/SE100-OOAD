{"ast":null,"code":"var _jsxFileName = \"/Users/nguyenphucthinh/Documents/study/se100-ooad/SE100-OOAD/SE100-OOAD/user-role/src/components/ResidenceBar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ResidenceBar({\n  toggleOption,\n  showOptions,\n  selectionBtnRef,\n  selectionOptionRef\n}) {\n  _s();\n  const [inputValue, setInputValue] = useState('');\n  const optionRefs = useRef([]);\n  const residenceData = [{\n    residence: \"Khách sạn\",\n    iconClass: \"fa-hotel\"\n  }, {\n    residence: \"Homestay\",\n    iconClass: \"fa-house-chimney\"\n  }, {\n    residence: \"Guesshome\",\n    iconClass: \"fa-house-user\"\n  }];\n  const [selectedResidenceOptions, setSelectedResidenceOptions] = useState([]);\n  const inputRef = useRef(null);\n  const deleteOption = event => {\n    optionRefs.current.forEach(ref => {\n      //Xóa hiệu ứng chọn cho các option\n      if (ref && ref.classList.contains('selected')) {\n        ref.classList.remove('selected'); // Xóa class 'selected' nếu có\n      }\n    });\n    setSelectedResidenceOptions([]);\n  };\n  const choiceOption = event => {\n    event.stopPropagation();\n    const optionText = event.target.innerText;\n    // Kiểm tra xem lựa chọn đã được chọn trước đó chưa\n    if (selectedResidenceOptions.includes(optionText)) {\n      // Nếu đã chọn, thì xóa khỏi danh sách\n      const newSelection = selectedResidenceOptions.filter(item => item !== optionText);\n      event.target.classList.remove('selected');\n      setSelectedResidenceOptions(newSelection);\n    } else {\n      // Nếu chưa được chọn, thêm vào danh sách\n      event.target.classList.add('selected');\n      setSelectedResidenceOptions(prevState => [...prevState, optionText]);\n    }\n  };\n\n  //Để cập nhật input khi value thay đổi \n  useEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.value = selectedResidenceOptions.length > 0 ? selectedResidenceOptions.join(', ') : '';\n    }\n  }, [selectedResidenceOptions]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"residence\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"selection_btn\",\n      onClick: toggleOption,\n      ref: selectionBtnRef,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/images/logo/house.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"input_text\",\n        type: \"text\",\n        placeholder: \"Lo\\u1EA1i l\\u01B0u tr\\xFA\",\n        readOnly: true,\n        ref: inputRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        className: `fa-solid ${selectedResidenceOptions.length > 0 ? 'fa-x' : 'fa-angle-down'}`,\n        onClick: () => {\n          if (selectedResidenceOptions.length > 0) {\n            deleteOption();\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"selection_option\",\n      ref: selectionOptionRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"option_describe\",\n        children: \"B\\u1EA1n c\\xF3 th\\u1EC3 ch\\u1ECDn nhi\\u1EC1u h\\u01A1n 1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), residenceData.map((data, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"option\",\n        ref: el => optionRefs.current[index] = el,\n        onClick: choiceOption,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: `fa-solid ${data.iconClass}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this), data.residence]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n_s(ResidenceBar, \"fPmttwADqmy1NJ1VtIQLYfnTT34=\");\n_c = ResidenceBar;\n;\nexport default ResidenceBar;\nvar _c;\n$RefreshReg$(_c, \"ResidenceBar\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","ResidenceBar","toggleOption","showOptions","selectionBtnRef","selectionOptionRef","_s","inputValue","setInputValue","optionRefs","residenceData","residence","iconClass","selectedResidenceOptions","setSelectedResidenceOptions","inputRef","deleteOption","event","current","forEach","ref","classList","contains","remove","choiceOption","stopPropagation","optionText","target","innerText","includes","newSelection","filter","item","add","prevState","value","length","join","className","children","onClick","src","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","readOnly","map","data","index","el","_c","$RefreshReg$"],"sources":["/Users/nguyenphucthinh/Documents/study/se100-ooad/SE100-OOAD/SE100-OOAD/user-role/src/components/ResidenceBar.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\nfunction ResidenceBar({ toggleOption, showOptions, selectionBtnRef, selectionOptionRef }) {\n    const [inputValue, setInputValue] = useState('');\n    const optionRefs = useRef([]);\n\n    const residenceData = [\n        { residence: \"Khách sạn\", iconClass: \"fa-hotel\" },\n        { residence: \"Homestay\", iconClass: \"fa-house-chimney\" },\n        { residence: \"Guesshome\", iconClass: \"fa-house-user\" },\n    ];\n\n    const [selectedResidenceOptions, setSelectedResidenceOptions] = useState([]);\n    const inputRef = useRef(null);\n\n    const deleteOption = (event) => {\n        optionRefs.current.forEach((ref) => {\n        //Xóa hiệu ứng chọn cho các option\n            if (ref && ref.classList.contains('selected')) {\n                ref.classList.remove('selected');  // Xóa class 'selected' nếu có\n            }\n        });\n        setSelectedResidenceOptions([])\n    };\n\n    const choiceOption = (event) => {\n        event.stopPropagation();\n        const optionText = event.target.innerText;\n        // Kiểm tra xem lựa chọn đã được chọn trước đó chưa\n        if (selectedResidenceOptions.includes(optionText)) {\n            // Nếu đã chọn, thì xóa khỏi danh sách\n            const newSelection = selectedResidenceOptions.filter(item => item !== optionText);\n            event.target.classList.remove('selected');\n            setSelectedResidenceOptions(newSelection);\n        } else {\n            // Nếu chưa được chọn, thêm vào danh sách\n            event.target.classList.add('selected');\n            setSelectedResidenceOptions(prevState => [...prevState, optionText]);\n        }\n    };\n\n    //Để cập nhật input khi value thay đổi \n    useEffect(() => {\n        if (inputRef.current) {\n            inputRef.current.value = selectedResidenceOptions.length > 0\n                ? selectedResidenceOptions.join(', ')\n                : '';\n        }\n    }, [selectedResidenceOptions]);\n\n    return (\n        <div className=\"residence\">\n            <div className=\"selection_btn\"\n                onClick={toggleOption}\n                ref={selectionBtnRef}\n            >\n                <img src=\"/images/logo/house.png\" />\n                <input className=\"input_text\" type=\"text\" placeholder=\"Loại lưu trú\"\n                    readOnly\n                    ref={inputRef}\n                />\n                <i\n                    className={`fa-solid ${selectedResidenceOptions.length > 0 ? 'fa-x' : 'fa-angle-down'}`}\n                    onClick={() => {\n                        if (selectedResidenceOptions.length > 0) {\n                            deleteOption();\n                        }\n                    }}\n                ></i>\n            </div>\n\n            <div className=\"selection_option\" ref={selectionOptionRef}>\n                <div className=\"option_describe\">Bạn có thể chọn nhiều hơn 1</div>\n                {residenceData.map((data, index) => (\n                    <div key={index} \n                        className=\"option\" \n                        ref={(el) => (optionRefs.current[index] = el)}\n                        onClick={choiceOption}\n                    >\n                        <i className={`fa-solid ${data.iconClass}`}></i>\n                        {data.residence}\n                    </div>\n                ))}\n\n            </div>\n        </div>\n    );\n\n};\n\nexport default ResidenceBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}