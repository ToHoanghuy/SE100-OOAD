{"ast":null,"code":"var _jsxFileName = \"/Users/nguyenphucthinh/Documents/study/se100-ooad/SE100-OOAD/SE100-OOAD/user-role/src/components/UserInfoFile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport ReactFlatpickr from 'react-flatpickr';\n// import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/themes/airbnb.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserInfoFile({\n  label,\n  type,\n  value,\n  placeholder,\n  isEditing,\n  onEdit,\n  onChange,\n  dob,\n  calendar\n}) {\n  _s();\n  const inputRef = useRef(null); // Tạo ref cho ô input\n  const flatpickrRef = useRef(null);\n  useEffect(() => {\n    if (isEditing && inputRef.current) {\n      inputRef.current.focus(); // Trỏ vào ô input\n      // Kiểm tra nếu kiểu input là text hoặc password để sử dụng setSelectionRange\n      if (type === \"text\") {\n        inputRef.current.setSelectionRange(value.length, value.length); // Đặt con trỏ cuối chuỗi\n      }\n    }\n  }, [isEditing, type, value]); // Theo dõi isEditing, type và value\n\n  useEffect(() => {\n    if (isEditing && flatpickrRef.current) {\n      flatpickrRef.current.flatpickr.open(); // Gọi phương thức open() từ flatpickr\n    }\n  }, [isEditing]);\n  const handleDateChange = date => {\n    onChange(date[0]); // Cập nhật ngày vào giá trị của props\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"input_user_frame OpacityEffect\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file_input_user\",\n      children: [type === \"date\" ? /*#__PURE__*/_jsxDEV(ReactFlatpickr, {\n        ref: flatpickrRef,\n        value: value // Truyền value vào ReactFlatpickr\n        ,\n        onChange: handleDateChange // Cập nhật giá trị khi thay đổi\n        ,\n        placeholder: placeholder,\n        options: {\n          dateFormat: 'd-m-Y',\n          theme: 'airbnb',\n          disableMobile: true\n        },\n        disabled: !isEditing // Chỉ cho phép chọn ngày khi isEditing là true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: inputRef,\n        type: type,\n        placeholder: placeholder,\n        value: value,\n        readOnly: !isEditing,\n        onChange: e => onChange(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        className: `fa-regular fa-pen-to-square ${isEditing === true ? \"editing_icon\" : \"\"}`,\n        onClick: onEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n_s(UserInfoFile, \"h8O8xaBSzaVah7M2JgNIYICLyh8=\");\n_c = UserInfoFile;\nexport default UserInfoFile;\nvar _c;\n$RefreshReg$(_c, \"UserInfoFile\");","map":{"version":3,"names":["React","useState","useRef","useEffect","ReactFlatpickr","jsxDEV","_jsxDEV","UserInfoFile","label","type","value","placeholder","isEditing","onEdit","onChange","dob","calendar","_s","inputRef","flatpickrRef","current","focus","setSelectionRange","length","flatpickr","open","handleDateChange","date","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","options","dateFormat","theme","disableMobile","disabled","readOnly","e","target","onClick","_c","$RefreshReg$"],"sources":["/Users/nguyenphucthinh/Documents/study/se100-ooad/SE100-OOAD/SE100-OOAD/user-role/src/components/UserInfoFile.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport ReactFlatpickr from 'react-flatpickr';\n// import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/themes/airbnb.css\";\n\n\nfunction UserInfoFile({ label, type, value, placeholder, isEditing, onEdit, onChange, dob, calendar }) {\n\n    const inputRef = useRef(null); // Tạo ref cho ô input\n    const flatpickrRef = useRef(null);\n\n    useEffect(() => {\n        if (isEditing && inputRef.current) {\n            inputRef.current.focus(); // Trỏ vào ô input\n            // Kiểm tra nếu kiểu input là text hoặc password để sử dụng setSelectionRange\n            if (type === \"text\") {\n                inputRef.current.setSelectionRange(value.length, value.length); // Đặt con trỏ cuối chuỗi\n            }\n        }\n    }, [isEditing, type, value]); // Theo dõi isEditing, type và value\n\n    useEffect(() => {\n        if (isEditing && flatpickrRef.current) {\n            flatpickrRef.current.flatpickr.open(); // Gọi phương thức open() từ flatpickr\n        }\n    }, [isEditing]);\n\n    const handleDateChange = (date) => {\n        onChange(date[0]); // Cập nhật ngày vào giá trị của props\n    };\n\n    return (\n        <div className=\"input_user_frame OpacityEffect\">\n            <label>{label}</label>\n            <div className=\"file_input_user\">\n                {type === \"date\" ? (\n                    <ReactFlatpickr\n                        ref={flatpickrRef}\n                        value={value}  // Truyền value vào ReactFlatpickr\n                        onChange={handleDateChange} // Cập nhật giá trị khi thay đổi\n                        placeholder={placeholder}\n                        options={{\n                            dateFormat: 'd-m-Y',\n                            theme: 'airbnb',\n                            disableMobile: true,\n                        }} \n                        disabled={!isEditing} // Chỉ cho phép chọn ngày khi isEditing là true\n                        />\n                ) : (\n                    <input\n                        ref={inputRef}\n                        type={type}\n                        placeholder={placeholder}\n                        value={value}\n                        readOnly={!isEditing}\n                        onChange={(e) => onChange(e.target.value)}\n                    />\n                )}\n\n                <i className={`fa-regular fa-pen-to-square ${isEditing === true ? \"editing_icon\" : \"\"}`}\n                    onClick={onEdit}\n                ></i>\n            </div>\n\n        </div>\n    );\n}\n\nexport default UserInfoFile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}